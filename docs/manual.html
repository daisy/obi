<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>Mockup of Obi 1.0 manual</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="obi.css"/>
  </head>
  <body>
    <div id="top">
      <h1>Mockup of Obi 1.0 manual</h1>
    </div>
    <p>
      <code>$Id$</code>
    </p>
    <div id="toc">
      <h2>Table of contents</h2>
      <ul>
        <li>
          <a href="#id53359">What is Obi?</a>
        </li>
        <li>
          <a href="#id53367">The work area</a>
          <ul>
            <li>
              <a href="#id53410">The table of contents view (TOC view)</a>
            </li>
            <li>
              <a href="#id53434">Metadata view</a>
            </li>
            <li>
              <a href="#id53453">Strips view</a>
              <ul>
                <li>
                  <a href="#id53481">Strips</a>
                </li>
                <li>
                  <a href="#id53510">Blocks</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="#id53692">Transport bar</a>
            </li>
            <li>
              <a href="#id53702">VU meter</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#id53710">Editing metadata</a>
        </li>
        <li>
          <a href="#id53714">Editing structure</a>
        </li>
        <li>
          <a href="#id53718">Editing contents</a>
          <ul>
            <li>
              <a href="#id53721">Page numbering</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#id53725">Editing audio</a>
        </li>
        <li>
          <a href="#id53728">Audio playback and recording</a>
          <ul>
            <li>
              <a href="#id53732">Playback</a>
            </li>
            <li>
              <a href="#id53736">Recording</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#id53739">Saving and exporting</a>
          <ul>
            <li>
              <a href="#id53743">XUK/.obi format</a>
            </li>
            <li>
              <a href="#id53746">Cleaning up</a>
            </li>
            <li>
              <a href="#id53750">Exporting to DAISY 3</a>
            </li>
            <li>
              <a href="#id53753">Using the DAISY Pipeline for import/export</a>
            </li>
          </ul>
        </li>
        <li>
          <a href="#id53757">User profile and preferences</a>
        </li>
      </ul>
    </div>
    <p>The idea is that we document features first, then implement them. This way
we can better test if they behave as planned and we don't have to document
them later. This file can be the basis for the proper help page (with
screenshots, with more end-user hand-holding) with the objective of reusing
as much of it as possible.</p>
    <h2 id="id53359">What is Obi?</h2>
    <p>I am the introduction paragraph for the manual.</p>
    <h2 id="id53367">The work area</h2>
    <p>The work area shows the whole project at once and allows the user to focus
on specific parts while editing, recording and testing playback of a
project. The three main areas are:</p>
    <ol>
      <li>
        <p>The Table of Contents view, where the structure of the book is edited.</p>
      </li>
      <li>
        <p>The Metadata view, where the data <em>about</em> the book is edited.</p>
      </li>
      <li>
        <p>The Strips view, where the audio contents of the book are edited.</p>
      </li>
    </ol>
    <p>In addition, a transport bar acts as the interface for recording and
playback of the book. The figure below [to be replaced by an actual
screenshot] shows a sketch of the work area:</p>
    <pre>
+--------------------------------------------------------------------------+
|                         |                                                |
|         TOC view        |                   Strip view                   |
|                         |                                                |
|  * My book              |  +---------------------------------------------|
|    * First section      |  |                                             |
|    * Second section     |  |  My book                                    |
|      * First chapter    |  |                                             |
|      * Second chapter   |  |  +------------------------------------------|
|    * Third section      |  |  |            |           |             |   |
|                         |  |  |  Audio     |  Audio    |  Audio      |  A|
|                         |  |  |            |           |             |   |
|-------------------------|  |  +------------------------------------------|
|                         |  |                                             |
|        Metadata         |  +---------------------------------------------|
|                         |                                                |
|  Title: My book         |  +---------------------------------------------|
|  Author: Obird          |  |                                             |
|                         |  |  First section                              |
|--------------------------------------------------------------------------|
|                                                                          |
|                               Transport bar                              |
|                                                                          |
+--------------------------------------------------------------------------+
</pre>
    <h3 id="id53410">The table of contents view (TOC view)</h3>
    <p>The TOC view is shown as a sidebar of the strips view. If the Metadata view
is shown, the TOV view is shown above the Metadata view as shown in the
figure above. The TOC view can be hidden.</p>
    <p class="indent">The TOC view shows the sections and subsections in the book. It allows
hierarchical editing of sections (adding new sections and subsections,
changing the level of sections, renaming sections, etc.) Operations such as
deleting or copying sections are <em>deep</em>: they act not only on a section, but
on all of its contents, subsections as well as audio.  The audio content of
the sections themselves are managed in the strips view.</p>
    <h3 id="id53434">Metadata view</h3>
    <p>The metadata view is shown as a sidebar of the strips view. If the TOC view
is shown, the metadata view is shown underneath the TOC view as in the
figure above. The metadata view can be hidden.</p>
    <p class="indent">This is the view where the user edits the metadata for the project. The
DAISY spec mandates some entries to be present and Obi makes sure that these
entries are always present. It also helps the user add additional useful
metadata to her project. Some metadata is autogenerated (for instance the
total length of the book) and is not editable through this view.</p>
    <h3 id="id53453">Strips view</h3>
    <p>The strips view is where the audio contents of the book are edited. Every
section in the book is represented in a horizontal <em>strip</em>, where audio
contents are arranged in <em>blocks</em> that represent the audio units (such as
phrases) of the book.</p>
    <p class="indent">Contrary to the TOC view, the strips view is <em>flat</em>; the strips are
presented in the book order, but not in a hierarchical way. This is similar
to how they usually appear in the book, outside of its table of contents.</p>
    <h4 id="id53481">Strips</h4>
    <p>Strips are containers for blocks and map one-to-one with sections. They are
composed of:</p>
    <ul>
      <li>
        <p>The name of the section (same as shown in the TOC view, changing one
changes the other.)</p>
      </li>
      <li>
        <p>The thumbnail of the image label, if there is one (the full-size image can
be shown in a modal dialog.)</p>
      </li>
      <li>
        <p>The audio blocks, as described below.</p>
      </li>
    </ul>
    <h4 id="id53510">Blocks</h4>
    <p><strong>Block classes and properties.</strong> There are three basic kinds of blocks:</p>
    <ol>
      <li>
        <p>Plain <em>audio blocks</em> are the default kind of audio block.</p>
      </li>
      <li>
        <p><em>Page blocks</em> are used to represent page numbers. A page block has a page
number that can be edited and searched for. The audio data of a page block
is usually a reading of this page number.</p>
      </li>
      <li>
        <p><em>Heading blocks</em> are used to represent the audio label of sections in the
table of contents. There can be only one heading block per section, although
it does not have to be the first block.</p>
      </li>
    </ol>
    <p>Additionally, the user may create custom classes of blocks (for instance
producer notes, sidebars, etc.) which behave like regular blocks but can be
easily searched or manipulated as a class rather than block by block. This
is also useful for working with skippable blocks, as described below.</p>
    <p class="indent">Blocks can then the following properties; properties are either set (which
means that they do apply to this block) or unset (they do not.)</p>
    <ul>
      <li>
        <p>The <em>used</em> property means, when set, that the block is indeed part of the
book. By defaults, blocks are used (<em>i.e.</em> this property is set.) Unused
blocks will not play during normal playback of the book and will not be
exported to the final DAISY books. Unused blocks can also be removed all at
once during project cleanup.</p>
      </li>
      <li>
        <p>The <em>skippable</em> property means, when set, that this block can be
automatically skipped during playback. This property is generally used with
pages and custom blocks, so that for instance all producer notes in the book
can be skipped by default. DAISY players allow the reader to ultimately decide
whether they want these to be skipped or not.</p>
      </li>
      <li>
        <p>The <em>escapable</em> property means, when set, that playback can escape</p>
      </li>
      <li>
        <p>The <em>empty</em> property means, when set, that the block has no actual
content; it is just a placeholder. This can happen when importing a project,
or failing to read sound files from existing projects. The user can also
create empty blocks explicitly. This property is automatically set or unset
by Obi.</p>
      </li>
    </ul>
    <p>There is an additional property which is an <em>annotation string</em>. This is
purely for authoring and can be used to set short annotations on blocks
(<em>e.g.</em> <code>fix this'' or</code>to be recorded later'').</p>
    <p class="indent">Lastly, there is a special kind of block which instead of containing an
audio phrase, contains other blocks. We call this a <em>container block</em>. All
blocks in the container block share the properties of the container. As an
example, a container block can be used to group together several phrase
blocks to have an audio label consisting of several phrases (remember that
there can only be a single heading block per section; in that case the
container block is marked as being the heading block.)</p>
    <p class="indent">There are other examples of the use of container blocks, that can be marked
as escapable; for instance a list of phrases or an audio table (container
blocks can contain other container blocks, so a table can be a list of rows
which are themselves lists of phrases.)</p>
    <p class="indent"><strong>Display.</strong> A block is displayed as a colored rectangle that contains all
of the relevant information:</p>
    <ul>
      <li>
        <p>Block content: can be a waveform, other blocks (in case of a container
block), or an "empty" icon.</p>
      </li>
      <li>
        <p>Annotation</p>
      </li>
      <li>
        <p>Total audio length of the block</p>
      </li>
    </ul>
    <p>The block size is proportional to the size of its contents; longer audio
blocks are wider.</p>
    <h3 id="id53692">Transport bar</h3>
    <p>Used for recording and QA playback. Buttons are overloaded for recording;
for instance, the next phrase button introduces a new phrase. Whether this is
sufficient remains to be seen. An idea would be to modify the toolbar when
recording.</p>
    <h3 id="id53702">VU meter</h3>
    <p>Has its own window, or is part of the transport bar (text/small version.)</p>
    <h2 id="id53710">Editing metadata</h2>
    <h2 id="id53714">Editing structure</h2>
    <h2 id="id53718">Editing contents</h2>
    <h3 id="id53721">Page numbering</h3>
    <h2 id="id53725">Editing audio</h2>
    <h2 id="id53728">Audio playback and recording</h2>
    <h3 id="id53732">Playback</h3>
    <h3 id="id53736">Recording</h3>
    <h2 id="id53739">Saving and exporting</h2>
    <h3 id="id53743">XUK/.obi format</h3>
    <h3 id="id53746">Cleaning up</h3>
    <h3 id="id53750">Exporting to DAISY 3</h3>
    <h3 id="id53753">Using the DAISY Pipeline for import/export</h3>
    <h2 id="id53757">User profile and preferences</h2>
  </body>
</html>
