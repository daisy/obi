Discription of playback behaviour
First Draft by Avneesh Dated: May 22 2007


1. Playback behaviour in StripManager with respect to keyboard navigation.
1.1. A phrase will play by itself whenever keyboard focus arrives on it through StripManager navigation commands.
<LNN>This is likely preferrable by visually impaired users, but highly limiting for sighted user, since it disable many editing comands untill playback has stopped. I would suggest that me make it a user preferrence whether automatic start of playback is enabled or not.</LNN>
List of commands are:
1.1.1. Right Arrow for next phrase.
1.1.2. Left Arrow for prev phrase
1.1.3. Down Arrow for first phrase of next section.
1.1.4. Up Arrow for first phrase of prev section.
1.1.5. Home Key for first phrase in current section.
1.1.6. End Key for last phrase in current section.
1.1.7. Ctrl + Home for first phrase in project.
1.1.8. Ctrl + End for last phrase in project.
1.1.9. PageUp for  neareast phrase marked with page number in upward direction.
1.1.10 PageDown for nearest phrase marked with page number in downward direction.
1.1.11. For multiple selection Shift key should be used with all of above listed Keyboard shortcuts.
<LNN>Are we going to do multiple selection in Obi in the near future?</LNN>

Remark: Left arrow and right arrow should not jump section e.g. navigation with right key should stop when  last phrase of current section is reached.


1.2. playback can be started by user in two modes by using playback commands. 
1.2.1. Play modes with Keyboard shortcuts are:
1.2.1.1. Space for play current phrase selection.
1.2.1.2. Ctrl + Space for play all from current phrase.

1.2.2. Further behavioural discription of two playback modes:
1.2.2.1. There should be direct transition from Play Selection mode to Play all mode and vice-versa without going through cycle of pause or stop i.e. if playback in one mode is going on, it is automatically stopped when command of playing in different playback mode is given.
1.2.2.2.  While in playing state, all keyboard navigation command should work without breaking of playback or playback mode.
1.2.2.3. While in paused or stopped state, all keyboard navigation commands should start playback in play single phrase mode.


1.3. Audio Editing during playback.
1.3.1.  Editing Commands in Context menu and drop down menu should be Conditionally  visible ( conditions should be other than playback states )  during playback 
<Dipendra> Conditions for each command? </Dipendra>
<Avn>
Split: Should be enabled only when a single phrase is selected 
Phrase detection: Should be enabled only when single phrase is selected.
Move Audio block: Should be enabled only when single phrase is selected.
Cut and copy: should be enabled if anything of phrase or section  is selected including multiple selection.
paste: Enabled only when a single phrase or a single section is selected.
Import audio files: enabled only when a single phrase or a single section is selected.
Delete phrase: Should be enabled when a phrase or multiple phrases are selected.
Merge phrase: should be visible on single  as well as multiple selection if we decide on merge multiple phrases. This multiple merge has to be discussed on friday skype call.
</Avn>
<Avn> Quick split do not fall in above list as it needs playback to work </Avn>


1.3.2.  On giving Editing command playback should stop/pause and resume conditionally ( depending on requirements of command) after command execution is complete 
E.g. playback behaviour of quick split and split.
<LNN>We need to be explicit about what editing commands are allowed during playback.</LNN>
<LNN>We need to edefine how each command's behavior is in both playback modes.</LNN>
<LNN>Behavior for cut to clipboard?</LNN>
<Avn>for cut playback should stop in play current selection mode and should continue in play all mode</Avn>
<Avn> for copy  playback should continue as it is </Avn>

<LNN>Behavior for paste section from clipboard?</LNN>
<LNN>Behavior for paste audio block from clipboard?</LNN>
<Avn> for pasting section/AudioBlock from clipboard Current playback should stop but do not feel a need to resume playback (going with screen reader behaviour)< but if we decide to do all this on fly i.e. without breaking play all playback mode, playback from just pasted node should resume/Avn>

<LNN>Behavior for Insert new section as child?</LNN>
<LNN>Behavior for Insert new section as previous/following sibling?</LNN>
<Avn>Playback should stop and for resuming:  new section is empty so there is nothing to play</Avn>

<LNN>Behavior for Record?</LNN>
<Avn>Playback should not resume after recording is complete </Avn>

<LNN>Behavior for Split?</LNN>
<Avn>Quick split requires resuming of playback while split do not</Avn>

<LNN>Behavior for Phrase detect?</LNN>
<Avn>Playback should not resume </Avn>

<LNN>I expect that many of these commands would need to stop playback, and the manner of resuming playback in each case must be specified.</LNN>
<Dipendra> All other commands except quick split should stop playback without resuming it again </Dipendra>


1.4. Playback behaviour during multiple selection.
1.4.1. Newly selected phrase should play on recieving focus by strip manager selection shortcut or atleast provide a short playback preview.
1.4.2. Newly deselected phrase should also play on StripManager deselecting shortcut or atleast provide a small playback preview.
<LNN>This behavior is also extremely specific to visually impaired users. We should offer the option of disabling it in the user settings.</LNN>



2. behaviour of playback with respect of  mouse use in strip manager.
Self triggered playback is not required on selecting  phrases with mouse. This should be done by giving playback commands.
2.1. Mouse commands for playback.
2.1.1. Double click for play curren phrase.
2.1.2. Play selection command from context menu for playing selection 
2.1.3. Play button from transport bar for play all.
<LNN>If we do enable multiple selection, I would expect the play button on the transport bar to just play the selected elements when more than one element is selected.</LNN>

Remark: with mouse also there should be direct transition between playback modes without going through commands like pause or stop.
<LNN>If there is a keyboard shortcut for it, I don't think that there needs to be a direct mouse command. The only way a mouse command could be considered "direct" would be to add an additional button to the transport bar.</LNN>
<Avn> more explanation through exanple: if playback in play all mode is going, mouse command for play single selection  i.e. double click should on itself trigger stop followed by PlayCurrent Phrase command</Avn>


2.2. Some suggestions for selection in strip manager using mouse:
2.2.1. Single click for selecting single phrase.
2.2.2. Horizontal dragging of mouse for selecting series of phrases.
2.2.3. Vertical dragging of mouse for spanning selection to next or prev section
This selection behaviour is similar to that used in text editors.
<LNN>If we do multiple select, we should let holding CTRL while pressing element signify adding or removing elements from the selection, in a similar manner to what Explorer does in Windows.</LNN>
<Dipendra> Shift + left mouse click should also be used for selection i.e. single left click is used for selecting current phrase, say phrase P1 then shift + left click on another phrase say P2 will select all phrases between Phrase P1 and phrases P2 including P1 and P2 </Dipendra>


3. Playback behaviour in TOC view with respect to keyboard.
3.1. There is no self triggering of playback required in  TOC view.
<LNN>This seems like inconsistent behavior to me.</LNN>
3.2. Playback modes are same as in strip manager with same shortcut keys as listed in section 1.2.1.
<LNN>Should "play selection" play the entire selected subtree, or just the strip that matches the heading?</LNN>

Remark: There is only one difference between playback behaviour in TOC view in contrast with strip manager i.e. the selection in TOC view has least count of a strip corresponding to a section while selection in strip manager has least count of a phrase.


4. Playback in TOC view with respect to mouse.
4.1. Mouse playback commands:
4.1.1. For playing current selection play selection command from context menu can be used.
4.1.2. For play all, play button on transport bar may be used.
<LNN>I have the same opinion here on using mouse for playback, as I do in the  strips view centric playback.</LNN>
