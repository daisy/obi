<head>
<title>Exporting the Project</title>
<style>
h1 {font-size:16pt;}
h2 {font-size:14pt;}
h3 {font-size:13pt;}
h4 {font-size:12pt;}
p {font-size:12pt;}
 } 
</style>
</head>

<body>
<a name="top"></a><h1>Exporting the Project</h1>

<p>Obi’s export function lets you export the project in the following formats: 
<ul><li>DAISY 3.0 audio-ncx</li>
<li>DAISY 2.02 audio-ncc</li>
<li>EPUB 3.0 audio-only with navigation</li>
<li><a href="Exporting structure to xhtml file.htm">Structure to an XHTML file</a></li>
<li>MegaVoice (Envoy Connect)</li>
<li>WP audio books</li>
</ul></p>

<p>Follow the steps given below to perform the export operation: 
<ol><li>Click <b>Tools->Export as DAISY/EPUB</b> on the menu, or press <b>Ctrl+E</b>.</li>
<li>A dialog box appears that allows you to select the specifications to which the exported publication(s) should comply.</li>
<p><img src="../../images/export_standard_selection_dialog.png" alt="Standard Selection Dialog"/></p>
<li>Select the desired checkboxes and click on the <b>OK</b> button. The export dialog for first selected standard opens. The following figure illustrates one such Export dialog.</li>

<p><img src="../../images/export_dialog.png" alt="Export Dialog showing EPUB export"/></p>
<li>Obi suggests a path for the export directory in the dialog box. But you can change it if you want to store the exported book somewhere else. You can also browse for a location by clicking the <b>Select</b> button. In case of MegaVoice (Envoy Connect), select the root directory of the drive where you have connected the device. If the book is exported to any subdirectory of the root directory, MegaVoice (Envoy Connect) will not play the book.</li>
<li>While exporting, Obi creates one audio file per section. But you can restrict this behavior to a certain level (depth of section) by choosing an appropriate value from the combo box named <b>Create one audio file per section till</b>. All the sections after that level will be clubbed into one file. For example, if you choose level 4 in the combo box, Obi will create one file per section till level 4. The subsections of the section at level 4 will be appended to the same file as the section at level 4. A new file will only be created when the section with level 4 or less is encountered. In case of MegaVoice (Envoy Connect), Level 1 will be selected by default.</li>
<li>By default, the exported audio files are in the WAV format, which consume a fair amount of disk space. You can choose to encode the audio files by checking the checkbox <b>Encode audio files</b>. Please note that it is checked by default for the EPUB export, as the EPUB specifications do not support WAV files, and MegaVoice (Envoy Connect) for optimum utilization for its smaller storage space.</li>
<li>If you chose to encode the audio files, you must select a suitable bit rate; the higher values ensure better quality but consume more disk space. In case of MP3 encoding, Obi activates the Advance button that provides access to the following advanced formatting options for the exported MP3 files:
<ul><li>Resample at 44.1 KHz</li>
<li>Replay Gain</li>
<li>Stereo-type</li>
</ul></li>
<li>You can also instruct Obi to add section names to audio file names by checking the checkbox <b>Append section name to audio file name</b>. In this case, the exported audio file will include the name of the contained section at the end.</li>
<li>If the above checkbox is checked, the <b>Filename length limit</b> checkbox will get activated. If you want to restrict the number of characters in exported audio file name, check the checkbox and enter the max length in the numeric edit box thus enabled.</li>
<li>If you choose to export to DAISY 3 or DAISY 2 standards, you have the option to export the To-do marks to the CSV file. To activate this feature, check the checkbox <b>Create CSV containing Todo timings</b>. This is especially useful if you want to do external audio processing at the specific parts of the exported file.</li>
<li>You can further choose to export cue markers in the exported audio files to make the process of external processing easier by checking the checkbox <b>Write TODO timing as cue mark</b>.</li>
<li>For EPUB export, you can specify the maximum length for EPUB file. Check the checkbox <b>EPUB Filename Length</b> and enter the maximum length in the adjacent numeric edit box.</li>
<li>In the case of EPUB export, you can check the checkbox <b>Create dummy text in HTML files</b> also. The dummy text corresponding to the SMIL/media overlays events is useful for the publications that demand precision in the reading system functionalities such as bookmarking. If this checkbox is not checked, the bookmarks will only be applied at structural items; such as sections, pages, etc.</li>
<li>To create media overlays for table of contents navigation in EPUB book, check the checkbox <b>Create Media Overlays for Navigation Doc</b>. This would enable playback of headings when user navigates table of contents in the player, but this feature will work properly only if the player also supports this functionality. Please note that DAISY specifications already support this as their inherent feature.</li>
<li>Click on the <b>OK</b> button. If you chose more than one standard in the Standard Selection dialog, Obi will open the Export dialog for each selection. Repeat the steps from step 4 for each of them.</li>
</ol></p>

<p>Obi creates the subdirectories of your project directory and exports the files into them. The files will be exported according to the standard (DAISY 3/DAISY 2.02/EPUB 3/MegaVoice (Envoy Connect)) chosen before exporting. For example, if you chose DAISY 2.02, the files will conform to DAISY 2.02 specifications. Note that while exporting according to DAISY 2.02 specifications, Obi will shift any page phrase appearing at the beginning of a section to the last position of the prior section.</p>

<p>In case of MegaVoice (Envoy Connect), Obi will create a directory (bearing the same name as the title of the project) in the root directory of the device.</p>

<p><h2>Checks performed before exporting</h2>
Before exporting, Obi checks for the following: 
<ul><li>Duplication of page numbers for each kind of page: Obi allows you to have the same page numbers across different kinds of pages, but not within a page kind. For example, you can have page number 4 in page front, as well as in page normal. But if page number 4 is encountered twice in page normal, a message will be displayed with a warning.</li>
<li>Empty sections or phrases: Obi does not export empty sections or phrases to the DTB. But during DAISY 2.02 export, Obi will permit blank page phrases to exist in exported DTB. This is done purposefully to provide flexibility to the publisher in the scenario where the indented audience does not wish to hear page numbers while listening to audio of the book.</li>
<li>Empty anchors or skippable notes: Obi will also check for empty anchors or skippable notes in the project, and display a warning message if it finds them.</li>
</ul></p>

<p><h2>Some important files exported by Obi</h2>
The following table lists the important files exported for the DAISY export.</p>

<table border="1">
<tr>
<th>File/File-type</th>
<th>Relevant To</th>
<th> Description</th>
</tr>
 <tr>
<td>OPF</td>
 <td>DAISY 3</td>
 <td>The package file for the publication. This file is recognized by the DAISY 3 players, and operations like validation, etc.</td>
 </tr>
<tr>
<td>NCX</td>
 <td>DAISY 3</td>
<td> The navigation control file enabling the users to move smoothly among files while synchronization.</td>
 </tr>
<tr>
<td>NCC.html</td>
 <td>DAISY 2.02</td>
<td> The manifest file for the publication as well as the navigation control file.</td>
 </tr>
<tr>
<td>WAV/MP3/AMR/3GP</td>
<td> DAISY 3, DAISY 2.02</td>
 <td>The Audio file containing the actual content of the book.</td>
 </tr>
<tr>
<Td>SMIL</td>
 <td>DAISY 3, DAISY 2.02</td>
 <td>The synchronization file to relate markings in the text file with time points in the audio file.</td>
 </tr>
</table>

<p>In case of the EPUB export, Obi will compress together the audio, text, navigation, and synchronization files in a single file. This file will bear .epub extension and contain the publication in entirety.</p>

<p>The exported book can be played using DAISY/EPUB players. There are several options available for both. You can get information on EPUB players from <a href="http://readium.org/" target="_blank">http://readium.org/" target="_blank</a>.</p>

<p>You can also hear the contents of the book in any WAV/MP3 player. Each audio file contains one or more sections of the DTB and the audio files are named with a number suffix. If you play these files in an increasing order of their number suffix, the book will be played in the correct order. However, you will not be able to take advantage of the navigation, a salient feature of DAISY/EPUB book.</p>

<p>In case of MegaVoice (Envoy Connect), it is important to export the project directly in the root directory of the device; so that the device is able to detect and play it.</p>

<h2>Related Topics</h2>
<a href="Validating the Exported DTB.htm">Validating DAISY DTB</a><tr> 
<a href="Validating EPUB book.htm">Validating EPUB book</a><br>
<a href="Exporting and Validating DTB.htm">Exporting and Validating</a><br>
<a href="../../Customizing the DTB/Customizing the DTB.htm">Customizing and Audio Encoding</a><br>
<a href="../Creating a DTB.htm">Creating a DTB</a><br>

<p><a href="Exporting and Validating DTB.htm">Prev</a> |
<a href="#top">Top</a> |
<a href="Configuration file based export.htm">Next</a></p>
 
</body>

